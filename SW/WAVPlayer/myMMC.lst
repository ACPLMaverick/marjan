ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 1


   1              		.code	16
   2              		.file	"myMMC.c"
   3              		.text
   4              		.align	2
   5              		.global	ReadTagsFromFile
   6              		.code 16
   7              		.thumb_func
   8              		.type	ReadTagsFromFile, %function
   9              	ReadTagsFromFile:
  10 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  11 0002 1A4D     		ldr	r5, .L13
  12 0004 1A4E     		ldr	r6, .L13+4
  13 0006 041C     		mov	r4, r0
  14 0008 0022     		mov	r2, #0
  15              	.L2:
  16 000a 0027     		mov	r7, #0
  17 000c 9319     		add	r3, r2, r6
  18 000e 5755     		strb	r7, [r2, r5]
  19 0010 0132     		add	r2, r2, #1
  20 0012 1F70     		strb	r7, [r3]
  21 0014 1E2A     		cmp	r2, #30
  22 0016 F8D1     		bne	.L2
  23 0018 E16C     		ldr	r1, [r4, #76]
  24 001a 2B1C     		mov	r3, r5
  25 001c 7D39     		sub	r1, r1, #125
  26 001e 201C     		mov	r0, r4
  27 0020 FFF7FEFF 		bl	file_fread
  28 0024 E16C     		ldr	r1, [r4, #76]
  29 0026 331C     		mov	r3, r6
  30 0028 5F39     		sub	r1, r1, #95
  31 002a 201C     		mov	r0, r4
  32 002c 1E22     		mov	r2, #30
  33 002e FFF7FEFF 		bl	file_fread
  34 0032 104B     		ldr	r3, .L13+8
  35 0034 291C     		mov	r1, r5
  36 0036 6F77     		strb	r7, [r5, #29]
  37 0038 7777     		strb	r7, [r6, #29]
  38 003a 1D60     		str	r5, [r3]
  39 003c 5E60     		str	r6, [r3, #4]
  40 003e 00E0     		b	.L4
  41              	.L5:
  42 0040 0131     		add	r1, r1, #1
  43              	.L4:
  44 0042 0B78     		ldrb	r3, [r1]
  45 0044 002B     		cmp	r3, #0
  46 0046 FBD1     		bne	.L5
  47 0048 084B     		ldr	r3, .L13
  48 004a 0A4A     		ldr	r2, .L13+8
  49 004c CB1A     		sub	r3, r1, r3
  50 004e 0849     		ldr	r1, .L13+4
  51 0050 1374     		strb	r3, [r2, #16]
  52 0052 00E0     		b	.L7
  53              	.L8:
  54 0054 0131     		add	r1, r1, #1
  55              	.L7:
  56 0056 0B78     		ldrb	r3, [r1]
  57 0058 002B     		cmp	r3, #0
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 2


  58 005a FBD1     		bne	.L8
  59 005c 044B     		ldr	r3, .L13+4
  60 005e 054A     		ldr	r2, .L13+8
  61 0060 CB1A     		sub	r3, r1, r3
  62 0062 5374     		strb	r3, [r2, #17]
  63              		@ sp needed for prologue
  64 0064 F0BC     		pop	{r4, r5, r6, r7}
  65 0066 01BC     		pop	{r0}
  66 0068 0047     		bx	r0
  67              	.L14:
  68 006a 0000     		.align	2
  69              	.L13:
  70 006c 00000000 		.word	myName
  71 0070 00000000 		.word	myAuthor
  72 0074 00000000 		.word	currentSongInfo
  73              		.size	ReadTagsFromFile, .-ReadTagsFromFile
  74              		.section	.rodata.str1.4,"aMS",%progbits,1
  75 0001 000000   		.align	2
  76              	.LC8:
  77 0004 4552523A 		.ascii	"ERR:file\000"
  77      66696C65 
  77      00
  78              		.text
  79              		.align	2
  80              		.global	ReadAndPlay
  81              		.code 16
  82              		.thumb_func
  83              		.type	ReadAndPlay, %function
  84              	ReadAndPlay:
  85 0078 10B5     		push	{r4, lr}
  86 007a 0C4C     		ldr	r4, .L20
  87 007c 021C     		mov	r2, r0
  88 007e 0C49     		ldr	r1, .L20+4
  89 0080 201C     		mov	r0, r4
  90 0082 7223     		mov	r3, #114
  91 0084 FFF7FEFF 		bl	file_fopen
  92 0088 0006     		lsl	r0, r0, #24
  93 008a 0028     		cmp	r0, #0
  94 008c 08D1     		bne	.L16
  95 008e 201C     		mov	r0, r4
  96 0090 FFF7FEFF 		bl	ReadTagsFromFile
  97 0094 FFF7FEFF 		bl	LCDWriteNameAuthor
  98 0098 201C     		mov	r0, r4
  99 009a FFF7FEFF 		bl	playWAV
 100 009e 02E0     		b	.L19
 101              	.L16:
 102 00a0 044A     		ldr	r2, .L20+8
 103 00a2 054B     		ldr	r3, .L20+12
 104 00a4 1A60     		str	r2, [r3]
 105              	.L19:
 106              		@ sp needed for prologue
 107 00a6 10BC     		pop	{r4}
 108 00a8 01BC     		pop	{r0}
 109 00aa 0047     		bx	r0
 110              	.L21:
 111              		.align	2
 112              	.L20:
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 3


 113 00ac 00000000 		.word	file
 114 00b0 84020000 		.word	efs+644
 115 00b4 04000000 		.word	.LC8
 116 00b8 00000000 		.word	currentSongInfo
 117              		.size	ReadAndPlay, .-ReadAndPlay
 118              		.section	.rodata.str1.4
 119 000d 000000   		.align	2
 120              	.LC12:
 121 0010 5C00     		.ascii	"\\\000"
 122 0012 0000     		.align	2
 123              	.LC14:
 124 0014 4552523A 		.ascii	"ERR:filesys-1\000"
 124      66696C65 
 124      7379732D 
 124      3100
 125 0022 0000     		.align	2
 126              	.LC16:
 127 0024 4552523A 		.ascii	"ERR:filesys-2\000"
 127      66696C65 
 127      7379732D 
 127      3200
 128 0032 0000     		.align	2
 129              	.LC18:
 130 0034 4552523A 		.ascii	"ERR:filesys-3\000"
 130      66696C65 
 130      7379732D 
 130      3300
 131 0042 0000     		.align	2
 132              	.LC20:
 133 0044 4552523A 		.ascii	"ERR:filesys-4\000"
 133      66696C65 
 133      7379732D 
 133      3400
 134 0052 0000     		.align	2
 135              	.LC22:
 136 0054 4552523A 		.ascii	"ERR:filesys-10\000"
 136      66696C65 
 136      7379732D 
 136      313000
 137 0063 00       		.align	2
 138              	.LC24:
 139 0064 4552523A 		.ascii	"ERR:filesys-11\000"
 139      66696C65 
 139      7379732D 
 139      313100
 140 0073 00       		.align	2
 141              	.LC26:
 142 0074 4552523A 		.ascii	"ERR:filesys-12\000"
 142      66696C65 
 142      7379732D 
 142      313200
 143 0083 00       		.align	2
 144              	.LC28:
 145 0084 4552523A 		.ascii	"ERR:filesys-13\000"
 145      66696C65 
 145      7379732D 
 145      313300
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 4


 146 0093 00       		.align	2
 147              	.LC30:
 148 0094 4552523A 		.ascii	"ERR:filesys-14\000"
 148      66696C65 
 148      7379732D 
 148      313400
 149 00a3 00       		.align	2
 150              	.LC32:
 151 00a4 4552523A 		.ascii	"ERR:filesys-15\000"
 151      66696C65 
 151      7379732D 
 151      313500
 152 00b3 00       		.align	2
 153              	.LC34:
 154 00b4 4552523A 		.ascii	"ERR:filesys-16\000"
 154      66696C65 
 154      7379732D 
 154      313600
 155 00c3 00       		.align	2
 156              	.LC36:
 157 00c4 4552523A 		.ascii	"ERR:filesys-17\000"
 157      66696C65 
 157      7379732D 
 157      313700
 158 00d3 00       		.align	2
 159              	.LC40:
 160 00d4 2F00     		.ascii	"/\000"
 161 00d6 0000     		.align	2
 162              	.LC42:
 163 00d8 4552523A 		.ascii	"ERR:dir\000"
 163      64697200 
 164              		.align	2
 165              	.LC45:
 166 00e0 4F4B00   		.ascii	"OK\000"
 167              		.text
 168              		.align	2
 169              		.global	initMMC
 170              		.code 16
 171              		.thumb_func
 172              		.type	initMMC, %function
 173              	initMMC:
 174 00bc 00B5     		push	{lr}
 175 00be 2548     		ldr	r0, .L51
 176 00c0 2549     		ldr	r1, .L51+4
 177 00c2 FFF7FEFF 		bl	efs_init
 178 00c6 431C     		add	r3, r0, #1
 179 00c8 01D1     		bne	.L23
 180 00ca 2448     		ldr	r0, .L51+8
 181 00cc 40E0     		b	.L25
 182              	.L23:
 183 00ce 831C     		add	r3, r0, #2
 184 00d0 01D1     		bne	.L26
 185 00d2 2348     		ldr	r0, .L51+12
 186 00d4 3CE0     		b	.L25
 187              	.L26:
 188 00d6 C31C     		add	r3, r0, #3
 189 00d8 01D1     		bne	.L28
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 5


 190 00da 2248     		ldr	r0, .L51+16
 191 00dc 38E0     		b	.L25
 192              	.L28:
 193 00de 031D     		add	r3, r0, #4
 194 00e0 01D1     		bne	.L30
 195 00e2 2148     		ldr	r0, .L51+20
 196 00e4 34E0     		b	.L25
 197              	.L30:
 198 00e6 031C     		mov	r3, r0
 199 00e8 0A33     		add	r3, r3, #10
 200 00ea 01D1     		bne	.L32
 201 00ec 1F48     		ldr	r0, .L51+24
 202 00ee 2FE0     		b	.L25
 203              	.L32:
 204 00f0 031C     		mov	r3, r0
 205 00f2 0B33     		add	r3, r3, #11
 206 00f4 01D1     		bne	.L34
 207 00f6 1E48     		ldr	r0, .L51+28
 208 00f8 2AE0     		b	.L25
 209              	.L34:
 210 00fa 031C     		mov	r3, r0
 211 00fc 0C33     		add	r3, r3, #12
 212 00fe 01D1     		bne	.L36
 213 0100 1C48     		ldr	r0, .L51+32
 214 0102 25E0     		b	.L25
 215              	.L36:
 216 0104 031C     		mov	r3, r0
 217 0106 0D33     		add	r3, r3, #13
 218 0108 01D1     		bne	.L38
 219 010a 1B48     		ldr	r0, .L51+36
 220 010c 20E0     		b	.L25
 221              	.L38:
 222 010e 031C     		mov	r3, r0
 223 0110 0E33     		add	r3, r3, #14
 224 0112 01D1     		bne	.L40
 225 0114 1948     		ldr	r0, .L51+40
 226 0116 1BE0     		b	.L25
 227              	.L40:
 228 0118 031C     		mov	r3, r0
 229 011a 0F33     		add	r3, r3, #15
 230 011c 01D1     		bne	.L42
 231 011e 1848     		ldr	r0, .L51+44
 232 0120 16E0     		b	.L25
 233              	.L42:
 234 0122 031C     		mov	r3, r0
 235 0124 1033     		add	r3, r3, #16
 236 0126 01D1     		bne	.L44
 237 0128 1648     		ldr	r0, .L51+48
 238 012a 11E0     		b	.L25
 239              	.L44:
 240 012c 1130     		add	r0, r0, #17
 241 012e 01D1     		bne	.L46
 242 0130 1548     		ldr	r0, .L51+52
 243 0132 0DE0     		b	.L25
 244              	.L46:
 245 0134 1548     		ldr	r0, .L51+56
 246 0136 1649     		ldr	r1, .L51+60
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 6


 247 0138 164A     		ldr	r2, .L51+64
 248 013a FFF7FEFF 		bl	ls_openDir
 249 013e 0006     		lsl	r0, r0, #24
 250 0140 0028     		cmp	r0, #0
 251 0142 01D0     		beq	.L48
 252 0144 1448     		ldr	r0, .L51+68
 253 0146 03E0     		b	.L25
 254              	.L48:
 255 0148 144A     		ldr	r2, .L51+72
 256 014a 0123     		mov	r3, #1
 257 014c 1370     		strb	r3, [r2]
 258 014e 1448     		ldr	r0, .L51+76
 259              	.L25:
 260              		@ sp needed for prologue
 261 0150 02BC     		pop	{r1}
 262 0152 0847     		bx	r1
 263              	.L52:
 264              		.align	2
 265              	.L51:
 266 0154 00000000 		.word	efs
 267 0158 10000000 		.word	.LC12
 268 015c 14000000 		.word	.LC14
 269 0160 24000000 		.word	.LC16
 270 0164 34000000 		.word	.LC18
 271 0168 44000000 		.word	.LC20
 272 016c 54000000 		.word	.LC22
 273 0170 64000000 		.word	.LC24
 274 0174 74000000 		.word	.LC26
 275 0178 84000000 		.word	.LC28
 276 017c 94000000 		.word	.LC30
 277 0180 A4000000 		.word	.LC32
 278 0184 B4000000 		.word	.LC34
 279 0188 C4000000 		.word	.LC36
 280 018c 00000000 		.word	list
 281 0190 84020000 		.word	efs+644
 282 0194 D4000000 		.word	.LC40
 283 0198 D8000000 		.word	.LC42
 284 019c 00000000 		.word	mmcInitialized
 285 01a0 E0000000 		.word	.LC45
 286              		.size	initMMC, .-initMMC
 287              		.align	2
 288              		.global	format_file_name
 289              		.code 16
 290              		.thumb_func
 291              		.type	format_file_name, %function
 292              	format_file_name:
 293 01a4 70B5     		push	{r4, r5, r6, lr}
 294 01a6 061C     		mov	r6, r0
 295 01a8 0D1C     		mov	r5, r1
 296 01aa CA1D     		add	r2, r1, #7
 297 01ac 0724     		mov	r4, #7
 298 01ae 05E0     		b	.L54
 299              	.L55:
 300 01b0 631E     		sub	r3, r4, #1
 301 01b2 1B06     		lsl	r3, r3, #24
 302 01b4 1C0E     		lsr	r4, r3, #24
 303 01b6 013A     		sub	r2, r2, #1
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 7


 304 01b8 002C     		cmp	r4, #0
 305 01ba 02D0     		beq	.L56
 306              	.L54:
 307 01bc 1378     		ldrb	r3, [r2]
 308 01be 202B     		cmp	r3, #32
 309 01c0 F6D0     		beq	.L55
 310              	.L56:
 311 01c2 621C     		add	r2, r4, #1
 312 01c4 301C     		mov	r0, r6
 313 01c6 291C     		mov	r1, r5
 314 01c8 FFF7FEFF 		bl	strncpy
 315 01cc 3419     		add	r4, r6, r4
 316 01ce 2E23     		mov	r3, #46
 317 01d0 6370     		strb	r3, [r4, #1]
 318 01d2 AA7A     		ldrb	r2, [r5, #10]
 319 01d4 202A     		cmp	r2, #32
 320 01d6 01D0     		beq	.L57
 321 01d8 0222     		mov	r2, #2
 322 01da 03E0     		b	.L59
 323              	.L57:
 324 01dc 6B7A     		ldrb	r3, [r5, #9]
 325 01de 5340     		eor	r3, r3, r2
 326 01e0 5B42     		neg	r3, r3
 327 01e2 DA0F     		lsr	r2, r3, #31
 328              	.L59:
 329 01e4 291C     		mov	r1, r5
 330 01e6 A01C     		add	r0, r4, #2
 331 01e8 0831     		add	r1, r1, #8
 332 01ea 0132     		add	r2, r2, #1
 333 01ec FFF7FEFF 		bl	strncpy
 334 01f0 0023     		mov	r3, #0
 335 01f2 6371     		strb	r3, [r4, #5]
 336              		@ sp needed for prologue
 337 01f4 70BC     		pop	{r4, r5, r6}
 338 01f6 01BC     		pop	{r0}
 339 01f8 0047     		bx	r0
 340              		.size	format_file_name, .-format_file_name
 341 01fa 0000     		.align	2
 342              		.global	getFileNames
 343              		.code 16
 344              		.thumb_func
 345              		.type	getFileNames, %function
 346              	getFileNames:
 347 01fc F0B5     		push	{r4, r5, r6, r7, lr}
 348 01fe 0027     		mov	r7, #0
 349 0200 0026     		mov	r6, #0
 350 0202 17E0     		b	.L78
 351              	.L65:
 352 0204 114A     		ldr	r2, .L79
 353 0206 2B69     		ldr	r3, [r5, #16]
 354 0208 1340     		and	r3, r3, r2
 355 020a 114A     		ldr	r2, .L79+4
 356 020c 9342     		cmp	r3, r2
 357 020e 11D1     		bne	.L78
 358 0210 104C     		ldr	r4, .L79+8
 359 0212 291C     		mov	r1, r5
 360 0214 0831     		add	r1, r1, #8
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 8


 361 0216 201C     		mov	r0, r4
 362 0218 FFF7FEFF 		bl	format_file_name
 363 021c 0E4B     		ldr	r3, .L79+12
 364 021e 211C     		mov	r1, r4
 365 0220 F218     		add	r2, r6, r3
 366 0222 0D31     		add	r1, r1, #13
 367              	.L67:
 368 0224 2378     		ldrb	r3, [r4]
 369 0226 0134     		add	r4, r4, #1
 370 0228 1370     		strb	r3, [r2]
 371 022a 0132     		add	r2, r2, #1
 372 022c 8C42     		cmp	r4, r1
 373 022e F9D1     		bne	.L67
 374 0230 0137     		add	r7, r7, #1
 375 0232 0D36     		add	r6, r6, #13
 376              	.L78:
 377 0234 094D     		ldr	r5, .L79+16
 378 0236 281C     		mov	r0, r5
 379 0238 FFF7FEFF 		bl	ls_getNext
 380 023c 0006     		lsl	r0, r0, #24
 381 023e 0028     		cmp	r0, #0
 382 0240 E0D0     		beq	.L65
 383 0242 074B     		ldr	r3, .L79+20
 384              		@ sp needed for prologue
 385 0244 1F70     		strb	r7, [r3]
 386 0246 F0BC     		pop	{r4, r5, r6, r7}
 387 0248 01BC     		pop	{r0}
 388 024a 0047     		bx	r0
 389              	.L80:
 390              		.align	2
 391              	.L79:
 392 024c FFFFFF00 		.word	16777215
 393 0250 57415600 		.word	5652823
 394 0254 00000000 		.word	file_name
 395 0258 00000000 		.word	files
 396 025c 00000000 		.word	list
 397 0260 00000000 		.word	songCount
 398              		.size	getFileNames, .-getFileNames
 399              		.section	.rodata.str1.4
 400 00e3 00       		.subsection	-1
 401              		.align	2
 402              	.LC57:
 403 0000 00       		.ascii	"\000"
 404              		.global	__modsi3
 405              		.text
 406              		.align	2
 407              		.global	MMCproc
 408              		.code 16
 409              		.thumb_func
 410              		.type	MMCproc, %function
 411              	MMCproc:
 412 0264 30B5     		push	{r4, r5, lr}
 413 0266 FFF7FEFF 		bl	initMMC
 414 026a 3F4A     		ldr	r2, .L110
 415 026c 0121     		mov	r1, #1
 416 026e 1170     		strb	r1, [r2]
 417 0270 0378     		ldrb	r3, [r0]
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 9


 418 0272 4F2B     		cmp	r3, #79
 419 0274 02D1     		bne	.L82
 420 0276 4378     		ldrb	r3, [r0, #1]
 421 0278 4B2B     		cmp	r3, #75
 422 027a 05D0     		beq	.L84
 423              	.L82:
 424 027c 3B4B     		ldr	r3, .L110+4
 425 027e 1960     		str	r1, [r3]
 426 0280 3B4B     		ldr	r3, .L110+8
 427 0282 1860     		str	r0, [r3]
 428 0284 0023     		mov	r3, #0
 429 0286 1370     		strb	r3, [r2]
 430              	.L84:
 431 0288 3A4C     		ldr	r4, .L110+12
 432 028a 3B49     		ldr	r1, .L110+16
 433 028c 3B4B     		ldr	r3, .L110+20
 434 028e 6218     		add	r2, r4, r1
 435              	.L85:
 436 0290 2370     		strb	r3, [r4]
 437 0292 0D34     		add	r4, r4, #13
 438 0294 9442     		cmp	r4, r2
 439 0296 FBD1     		bne	.L85
 440 0298 FFF7FEFF 		bl	getFileNames
 441 029c FFF7FEFF 		bl	startLCD
 442 02a0 374B     		ldr	r3, .L110+24
 443 02a2 DB68     		ldr	r3, [r3, #12]
 444 02a4 5800     		lsl	r0, r3, #1
 445 02a6 C018     		add	r0, r0, r3
 446 02a8 364A     		ldr	r2, .L110+28
 447 02aa 8000     		lsl	r0, r0, #2
 448 02ac C018     		add	r0, r0, r3
 449 02ae A318     		add	r3, r4, r2
 450 02b0 C018     		add	r0, r0, r3
 451 02b2 FFF7FEFF 		bl	ReadAndPlay
 452              	.L109:
 453 02b6 344A     		ldr	r2, .L110+32
 454 02b8 1378     		ldrb	r3, [r2]
 455 02ba 002B     		cmp	r3, #0
 456 02bc 19D0     		beq	.L88
 457 02be 0025     		mov	r5, #0
 458 02c0 1570     		strb	r5, [r2]
 459 02c2 3248     		ldr	r0, .L110+36
 460 02c4 FFF7FEFF 		bl	file_fclose
 461 02c8 2D4C     		ldr	r4, .L110+24
 462 02ca 314B     		ldr	r3, .L110+40
 463 02cc E068     		ldr	r0, [r4, #12]
 464 02ce 1978     		ldrb	r1, [r3]
 465 02d0 0138     		sub	r0, r0, #1
 466 02d2 FFF7FEFF 		bl	__modsi3
 467 02d6 E060     		str	r0, [r4, #12]
 468 02d8 0028     		cmp	r0, #0
 469 02da 00DA     		bge	.L90
 470 02dc E560     		str	r5, [r4, #12]
 471              	.L90:
 472 02de E368     		ldr	r3, [r4, #12]
 473 02e0 5800     		lsl	r0, r3, #1
 474 02e2 C018     		add	r0, r0, r3
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 10


 475 02e4 8000     		lsl	r0, r0, #2
 476 02e6 C018     		add	r0, r0, r3
 477 02e8 224B     		ldr	r3, .L110+12
 478 02ea A560     		str	r5, [r4, #8]
 479 02ec C018     		add	r0, r0, r3
 480 02ee FFF7FEFF 		bl	ReadAndPlay
 481              	.L88:
 482 02f2 284A     		ldr	r2, .L110+44
 483 02f4 1378     		ldrb	r3, [r2]
 484 02f6 002B     		cmp	r3, #0
 485 02f8 16D0     		beq	.L92
 486 02fa 0025     		mov	r5, #0
 487 02fc 1570     		strb	r5, [r2]
 488 02fe 2348     		ldr	r0, .L110+36
 489 0300 FFF7FEFF 		bl	file_fclose
 490 0304 1E4C     		ldr	r4, .L110+24
 491 0306 224B     		ldr	r3, .L110+40
 492 0308 E068     		ldr	r0, [r4, #12]
 493 030a 1978     		ldrb	r1, [r3]
 494 030c 0130     		add	r0, r0, #1
 495 030e FFF7FEFF 		bl	__modsi3
 496 0312 031C     		mov	r3, r0
 497 0314 E060     		str	r0, [r4, #12]
 498 0316 4000     		lsl	r0, r0, #1
 499 0318 C018     		add	r0, r0, r3
 500 031a 8000     		lsl	r0, r0, #2
 501 031c C018     		add	r0, r0, r3
 502 031e 154B     		ldr	r3, .L110+12
 503 0320 A560     		str	r5, [r4, #8]
 504 0322 C018     		add	r0, r0, r3
 505 0324 FFF7FEFF 		bl	ReadAndPlay
 506              	.L92:
 507 0328 1B4A     		ldr	r2, .L110+48
 508 032a 1378     		ldrb	r3, [r2]
 509 032c 002B     		cmp	r3, #0
 510 032e 07D0     		beq	.L94
 511 0330 0023     		mov	r3, #0
 512 0332 1370     		strb	r3, [r2]
 513 0334 194A     		ldr	r2, .L110+52
 514 0336 1378     		ldrb	r3, [r2]
 515 0338 082B     		cmp	r3, #8
 516 033a 01D8     		bhi	.L94
 517 033c 0133     		add	r3, r3, #1
 518 033e 1370     		strb	r3, [r2]
 519              	.L94:
 520 0340 174A     		ldr	r2, .L110+56
 521 0342 1378     		ldrb	r3, [r2]
 522 0344 002B     		cmp	r3, #0
 523 0346 07D0     		beq	.L97
 524 0348 0023     		mov	r3, #0
 525 034a 1370     		strb	r3, [r2]
 526 034c 134A     		ldr	r2, .L110+52
 527 034e 1378     		ldrb	r3, [r2]
 528 0350 002B     		cmp	r3, #0
 529 0352 01D0     		beq	.L97
 530 0354 013B     		sub	r3, r3, #1
 531 0356 1370     		strb	r3, [r2]
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 11


 532              	.L97:
 533 0358 124A     		ldr	r2, .L110+60
 534 035a 1378     		ldrb	r3, [r2]
 535 035c 002B     		cmp	r3, #0
 536 035e AAD0     		beq	.L109
 537 0360 0023     		mov	r3, #0
 538 0362 1370     		strb	r3, [r2]
 539 0364 A7E7     		b	.L109
 540              	.L111:
 541 0366 0000     		.align	2
 542              	.L110:
 543 0368 00000000 		.word	mmcInitialized
 544 036c 00000000 		.word	isError
 545 0370 00000000 		.word	error
 546 0374 00000000 		.word	files
 547 0378 07050000 		.word	1287
 548 037c 00000000 		.word	.LC57
 549 0380 00000000 		.word	currentSongInfo
 550 0384 F9FAFFFF 		.word	-1287
 551 0388 00000000 		.word	changeLeft
 552 038c 00000000 		.word	file
 553 0390 00000000 		.word	songCount
 554 0394 00000000 		.word	changeRight
 555 0398 00000000 		.word	volumeUp
 556 039c 00000000 		.word	currentVolume
 557 03a0 00000000 		.word	volumeDown
 558 03a4 00000000 		.word	displayMode
 559              		.size	MMCproc, .-MMCproc
 560              		.comm	currentSongInfo,20,4
 561              		.comm	mmcInitialized,1,1
 562              		.comm	changeLeft,1,1
 563              		.comm	changeRight,1,1
 564              		.comm	rewindForward,1,1
 565              		.comm	rewindBackward,1,1
 566              		.comm	volumeUp,1,1
 567              		.comm	volumeDown,1,1
 568              		.comm	isError,4,4
 569              		.comm	error,4,4
 570              		.comm	displayMode,1,1
 571              		.comm	files,3328,1
 572              		.comm	myName,30,1
 573              		.comm	myAuthor,30,1
 574              		.comm	efs,708,4
 575              		.comm	file,80,4
 576              		.comm	list,52,4
 577              		.comm	file_name,13,1
 578              		.comm	size,4,4
 579              		.comm	songCount,1,1
 580              		.ident	"GCC: (GNU) 4.1.1"
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 myMMC.c
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:1      .text:00000000 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:9      .text:00000000 ReadTagsFromFile
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:70     .text:0000006c $d
                            *COM*:0000001e myName
                            *COM*:0000001e myAuthor
                            *COM*:00000014 currentSongInfo
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:84     .text:00000078 ReadAndPlay
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:81     .text:00000078 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:113    .text:000000ac $d
                            *COM*:00000050 file
                            *COM*:000002c4 efs
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:173    .text:000000bc initMMC
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:170    .text:000000bc $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:266    .text:00000154 $d
                            *COM*:00000034 list
                            *COM*:00000001 mmcInitialized
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:292    .text:000001a4 format_file_name
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:289    .text:000001a4 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:346    .text:000001fc getFileNames
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:392    .text:0000024c $d
                            *COM*:0000000d file_name
                            *COM*:00000d00 files
                            *COM*:00000001 songCount
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:411    .text:00000264 MMCproc
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:408    .text:00000264 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/cckrhxJU.s:543    .text:00000368 $d
                            *COM*:00000004 isError
                            *COM*:00000004 error
                            *COM*:00000001 changeLeft
                            *COM*:00000001 changeRight
                            *COM*:00000001 volumeUp
                            *COM*:00000001 volumeDown
                            *COM*:00000001 displayMode
                            *COM*:00000001 rewindForward
                            *COM*:00000001 rewindBackward
                            *COM*:00000004 size

UNDEFINED SYMBOLS
file_fread
file_fopen
LCDWriteNameAuthor
playWAV
efs_init
ls_openDir
strncpy
ls_getNext
__modsi3
startLCD
file_fclose
currentVolume
