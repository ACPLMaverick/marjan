ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 1


   1              		.code	16
   2              		.file	"wavplayer.c"
   3              		.text
   4              		.align	2
   5              		.global	zeroBuffer
   6              		.code 16
   7              		.thumb_func
   8              		.type	zeroBuffer, %function
   9              	zeroBuffer:
  10 0000 014A     		ldr	r2, .L3
  11 0002 0023     		mov	r3, #0
  12              		@ lr needed for prologue
  13 0004 1370     		strb	r3, [r2]
  14              		@ sp needed for prologue
  15 0006 7047     		bx	lr
  16              	.L4:
  17              		.align	2
  18              	.L3:
  19 0008 00000000 		.word	soundTable
  20              		.size	zeroBuffer, .-zeroBuffer
  21              		.global	__floatsisf
  22              		.global	__addsf3
  23              		.global	__divsf3
  24              		.global	__mulsf3
  25              		.global	__fixsfsi
  26              		.align	2
  27              		.global	sendToDAC
  28              		.code 16
  29              		.thumb_func
  30              		.type	sendToDAC, %function
  31              	sendToDAC:
  32 000c 30B5     		push	{r4, r5, lr}
  33 000e 174B     		ldr	r3, .L10
  34 0010 0006     		lsl	r0, r0, #24
  35 0012 C00D     		lsr	r0, r0, #23
  36 0014 C018     		add	r0, r0, r3
  37 0016 FFF7FEFF 		bl	__floatsisf
  38 001a 154B     		ldr	r3, .L10+4
  39 001c 0024     		mov	r4, #0
  40 001e 1C57     		ldrsb	r4, [r3, r4]
  41 0020 051C     		add	r5, r0, #0
  42 0022 201C     		mov	r0, r4
  43 0024 FFF7FEFF 		bl	__floatsisf
  44 0028 002C     		cmp	r4, #0
  45 002a 02DA     		bge	.L6
  46 002c 1149     		ldr	r1, .L10+8
  47 002e FFF7FEFF 		bl	__addsf3
  48              	.L6:
  49 0032 1149     		ldr	r1, .L10+12
  50 0034 FFF7FEFF 		bl	__divsf3
  51 0038 011C     		add	r1, r0, #0
  52 003a 281C     		add	r0, r5, #0
  53 003c FFF7FEFF 		bl	__mulsf3
  54 0040 FFF7FEFF 		bl	__fixsfsi
  55 0044 031C     		mov	r3, r0
  56 0046 7F33     		add	r3, r3, #127
  57 0048 02DA     		bge	.L7
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 2


  58 004a 7F20     		mov	r0, #127
  59 004c 4042     		neg	r0, r0
  60 004e 02E0     		b	.L8
  61              	.L7:
  62 0050 7F28     		cmp	r0, #127
  63 0052 00DD     		ble	.L8
  64 0054 7F20     		mov	r0, #127
  65              	.L8:
  66 0056 031C     		mov	r3, r0
  67 0058 8033     		add	r3, r3, #128
  68 005a 8022     		mov	r2, #128
  69 005c 5202     		lsl	r2, r2, #9
  70 005e 1B02     		lsl	r3, r3, #8
  71 0060 1343     		orr	r3, r3, r2
  72 0062 064A     		ldr	r2, .L10+16
  73              		@ sp needed for prologue
  74 0064 1360     		str	r3, [r2]
  75 0066 30BC     		pop	{r4, r5}
  76 0068 01BC     		pop	{r0}
  77 006a 0047     		bx	r0
  78              	.L11:
  79              		.align	2
  80              	.L10:
  81 006c 00FFFFFF 		.word	-256
  82 0070 00000000 		.word	currentVolume
  83 0074 00008043 		.word	1132462080
  84 0078 00002041 		.word	1092616192
  85 007c 00C006E0 		.word	-536428544
  86              		.size	sendToDAC, .-sendToDAC
  87              		.align	2
  88              		.global	ISR_RTC
  89              		.code 16
  90              		.thumb_func
  91              		.type	ISR_RTC, %function
  92              	ISR_RTC:
  93 0080 0A4B     		ldr	r3, .L19
  94 0082 1A68     		ldr	r2, [r3]
  95 0084 0433     		add	r3, r3, #4
  96 0086 1968     		ldr	r1, [r3]
  97 0088 0B01     		lsl	r3, r1, #4
  98 008a 5B1A     		sub	r3, r3, r1
  99 008c 9B00     		lsl	r3, r3, #2
 100 008e 0848     		ldr	r0, .L19+4
 101 0090 D218     		add	r2, r2, r3
 102 0092 8260     		str	r2, [r0, #8]
 103 0094 074A     		ldr	r2, .L19+8
 104 0096 1378     		ldrb	r3, [r2]
 105              		@ lr needed for prologue
 106 0098 022B     		cmp	r3, #2
 107 009a 01D1     		bne	.L13
 108 009c 0323     		mov	r3, #3
 109 009e 02E0     		b	.L18
 110              	.L13:
 111 00a0 032B     		cmp	r3, #3
 112 00a2 01D1     		bne	.L17
 113 00a4 0223     		mov	r3, #2
 114              	.L18:
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 3


 115 00a6 1370     		strb	r3, [r2]
 116              	.L17:
 117              		@ sp needed for prologue
 118 00a8 7047     		bx	lr
 119              	.L20:
 120 00aa 0000     		.align	2
 121              	.L19:
 122 00ac 204002E0 		.word	-536723424
 123 00b0 00000000 		.word	currentSongInfo
 124 00b4 00000000 		.word	displayMode
 125              		.size	ISR_RTC, .-ISR_RTC
 126              		.align	2
 127              		.global	ISR
 128              		.code 16
 129              		.thumb_func
 130              		.type	ISR, %function
 131              	ISR:
 132 00b8 30B5     		push	{r4, r5, lr}
 133 00ba 81B0     		sub	sp, sp, #4
 134 00bc 3D4B     		ldr	r3, .L46
 135 00be 6D46     		mov	r5, sp
 136 00c0 0335     		add	r5, r5, #3
 137 00c2 2A1C     		mov	r2, r5
 138 00c4 1868     		ldr	r0, [r3]
 139 00c6 0121     		mov	r1, #1
 140 00c8 FFF7FEFF 		bl	file_read
 141 00cc 3A4C     		ldr	r4, .L46+4
 142 00ce 2368     		ldr	r3, [r4]
 143 00d0 0133     		add	r3, r3, #1
 144 00d2 2360     		str	r3, [r4]
 145 00d4 2878     		ldrb	r0, [r5]
 146 00d6 FFF7FEFF 		bl	sendToDAC
 147 00da 384B     		ldr	r3, .L46+8
 148 00dc 1B68     		ldr	r3, [r3]
 149 00de 2268     		ldr	r2, [r4]
 150 00e0 803B     		sub	r3, r3, #128
 151 00e2 9A42     		cmp	r2, r3
 152 00e4 02D9     		bls	.L22
 153 00e6 FFF7FEFF 		bl	StopInterrupts
 154 00ea 24E0     		b	.L45
 155              	.L22:
 156 00ec 3449     		ldr	r1, .L46+12
 157 00ee 0A68     		ldr	r2, [r1]
 158 00f0 8023     		mov	r3, #128
 159 00f2 1B03     		lsl	r3, r3, #12
 160 00f4 151C     		mov	r5, r2
 161 00f6 1D40     		and	r5, r3
 162 00f8 0DD1     		bne	.L25
 163 00fa 324C     		ldr	r4, .L46+16
 164 00fc 2368     		ldr	r3, [r4]
 165 00fe 324A     		ldr	r2, .L46+20
 166 0100 0133     		add	r3, r3, #1
 167 0102 2360     		str	r3, [r4]
 168 0104 9342     		cmp	r3, r2
 169 0106 50D9     		bls	.L42
 170 0108 FFF7FEFF 		bl	StopInterrupts
 171 010c 2560     		str	r5, [r4]
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 4


 172 010e 2F4A     		ldr	r2, .L46+24
 173              	.L43:
 174 0110 0123     		mov	r3, #1
 175              	.L44:
 176 0112 1370     		strb	r3, [r2]
 177 0114 49E0     		b	.L42
 178              	.L25:
 179 0116 0A68     		ldr	r2, [r1]
 180 0118 8023     		mov	r3, #128
 181 011a DB02     		lsl	r3, r3, #11
 182 011c 151C     		mov	r5, r2
 183 011e 1D40     		and	r5, r3
 184 0120 0BD1     		bne	.L28
 185 0122 284C     		ldr	r4, .L46+16
 186 0124 2368     		ldr	r3, [r4]
 187 0126 284A     		ldr	r2, .L46+20
 188 0128 0133     		add	r3, r3, #1
 189 012a 2360     		str	r3, [r4]
 190 012c 9342     		cmp	r3, r2
 191 012e 3CD9     		bls	.L42
 192 0130 FFF7FEFF 		bl	StopInterrupts
 193 0134 2560     		str	r5, [r4]
 194              	.L45:
 195 0136 264A     		ldr	r2, .L46+28
 196 0138 EAE7     		b	.L43
 197              	.L28:
 198 013a 0A68     		ldr	r2, [r1]
 199 013c 8023     		mov	r3, #128
 200 013e 9B02     		lsl	r3, r3, #10
 201 0140 101C     		mov	r0, r2
 202 0142 1840     		and	r0, r3
 203 0144 09D1     		bne	.L31
 204 0146 1F49     		ldr	r1, .L46+16
 205 0148 0B68     		ldr	r3, [r1]
 206 014a 1F4A     		ldr	r2, .L46+20
 207 014c 0133     		add	r3, r3, #1
 208 014e 0B60     		str	r3, [r1]
 209 0150 9342     		cmp	r3, r2
 210 0152 2AD9     		bls	.L42
 211 0154 1F4A     		ldr	r2, .L46+32
 212 0156 0860     		str	r0, [r1]
 213 0158 DAE7     		b	.L43
 214              	.L31:
 215 015a 0A68     		ldr	r2, [r1]
 216 015c 8023     		mov	r3, #128
 217 015e 5B03     		lsl	r3, r3, #13
 218 0160 101C     		mov	r0, r2
 219 0162 1840     		and	r0, r3
 220 0164 09D1     		bne	.L34
 221 0166 1749     		ldr	r1, .L46+16
 222 0168 0B68     		ldr	r3, [r1]
 223 016a 174A     		ldr	r2, .L46+20
 224 016c 0133     		add	r3, r3, #1
 225 016e 0B60     		str	r3, [r1]
 226 0170 9342     		cmp	r3, r2
 227 0172 1AD9     		bls	.L42
 228 0174 184A     		ldr	r2, .L46+36
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 5


 229 0176 0860     		str	r0, [r1]
 230 0178 CAE7     		b	.L43
 231              	.L34:
 232 017a 0A68     		ldr	r2, [r1]
 233 017c 8023     		mov	r3, #128
 234 017e DB01     		lsl	r3, r3, #7
 235 0180 101C     		mov	r0, r2
 236 0182 1049     		ldr	r1, .L46+16
 237 0184 1840     		and	r0, r3
 238 0186 0ED1     		bne	.L37
 239 0188 0B68     		ldr	r3, [r1]
 240 018a 0F4A     		ldr	r2, .L46+20
 241 018c 0133     		add	r3, r3, #1
 242 018e 0B60     		str	r3, [r1]
 243 0190 9342     		cmp	r3, r2
 244 0192 0AD9     		bls	.L42
 245 0194 114A     		ldr	r2, .L46+40
 246 0196 1378     		ldrb	r3, [r2]
 247 0198 0860     		str	r0, [r1]
 248 019a 002B     		cmp	r3, #0
 249 019c 01D1     		bne	.L40
 250 019e 0223     		mov	r3, #2
 251 01a0 B7E7     		b	.L44
 252              	.L40:
 253 01a2 1070     		strb	r0, [r2]
 254 01a4 01E0     		b	.L42
 255              	.L37:
 256 01a6 0023     		mov	r3, #0
 257 01a8 0B60     		str	r3, [r1]
 258              	.L42:
 259 01aa 01B0     		add	sp, sp, #4
 260              		@ sp needed for prologue
 261 01ac 30BC     		pop	{r4, r5}
 262 01ae 01BC     		pop	{r0}
 263 01b0 0047     		bx	r0
 264              	.L47:
 265 01b2 0000     		.align	2
 266              	.L46:
 267 01b4 00000000 		.word	myFile
 268 01b8 00000000 		.word	fileOffset
 269 01bc 00000000 		.word	fileSize
 270 01c0 008002E0 		.word	-536707072
 271 01c4 00000000 		.word	joystickTimer
 272 01c8 ED080000 		.word	2285
 273 01cc 00000000 		.word	changeLeft
 274 01d0 00000000 		.word	changeRight
 275 01d4 00000000 		.word	volumeUp
 276 01d8 00000000 		.word	volumeDown
 277 01dc 00000000 		.word	displayMode
 278              		.size	ISR, .-ISR
 279              		.align	2
 280              		.global	playWAV
 281              		.code 16
 282              		.thumb_func
 283              		.type	playWAV, %function
 284              	playWAV:
 285 01e0 00B5     		push	{lr}
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 6


 286 01e2 094B     		ldr	r3, .L50
 287 01e4 0021     		mov	r1, #0
 288 01e6 9960     		str	r1, [r3, #8]
 289 01e8 084A     		ldr	r2, .L50+4
 290 01ea C36C     		ldr	r3, [r0, #76]
 291 01ec 1360     		str	r3, [r2]
 292 01ee 084B     		ldr	r3, .L50+8
 293 01f0 2C22     		mov	r2, #44
 294 01f2 8264     		str	r2, [r0, #72]
 295 01f4 1A60     		str	r2, [r3]
 296 01f6 074B     		ldr	r3, .L50+12
 297 01f8 1860     		str	r0, [r3]
 298 01fa 074B     		ldr	r3, .L50+16
 299 01fc 1960     		str	r1, [r3]
 300 01fe FFF7FEFF 		bl	myTimerRTCExec
 301              		@ sp needed for prologue
 302 0202 01BC     		pop	{r0}
 303 0204 0047     		bx	r0
 304              	.L51:
 305 0206 0000     		.align	2
 306              	.L50:
 307 0208 00000000 		.word	currentSongInfo
 308 020c 00000000 		.word	fileSize
 309 0210 00000000 		.word	fileOffset
 310 0214 00000000 		.word	myFile
 311 0218 00000000 		.word	joystickTimer
 312              		.size	playWAV, .-playWAV
 313              		.comm	currentSongInfo,20,4
 314              		.comm	currentVolume,1,1
 315              		.comm	displayChanged,1,1
 316              		.comm	files,3328,1
 317              		.comm	myFile,4,4
 318              		.comm	soundTable,1,1
 319              		.comm	filePtr,4,4
 320              		.comm	fileOffset,4,4
 321              		.comm	fileSize,4,4
 322              		.comm	joystickTimer,4,4
 323              		.ident	"GCC: (GNU) 4.1.1"
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 wavplayer.c
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:1      .text:00000000 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:9      .text:00000000 zeroBuffer
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:19     .text:00000008 $d
                            *COM*:00000001 soundTable
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:31     .text:0000000c sendToDAC
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:28     .text:0000000c $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:81     .text:0000006c $d
                            *COM*:00000001 currentVolume
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:92     .text:00000080 ISR_RTC
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:89     .text:00000080 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:122    .text:000000ac $d
                            *COM*:00000014 currentSongInfo
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:131    .text:000000b8 ISR
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:128    .text:000000b8 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:267    .text:000001b4 $d
                            *COM*:00000004 myFile
                            *COM*:00000004 fileOffset
                            *COM*:00000004 fileSize
                            *COM*:00000004 joystickTimer
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:284    .text:000001e0 playWAV
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:281    .text:000001e0 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccx4bxUt.s:307    .text:00000208 $d
                            *COM*:00000001 displayChanged
                            *COM*:00000d00 files
                            *COM*:00000004 filePtr

UNDEFINED SYMBOLS
__floatsisf
__addsf3
__divsf3
__mulsf3
__fixsfsi
displayMode
file_read
StopInterrupts
changeLeft
changeRight
volumeUp
volumeDown
myTimerRTCExec
