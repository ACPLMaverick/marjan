ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 1


   1              		.code	16
   2              		.file	"testMMC.c"
   3              		.global	__floatsisf
   4              		.global	__addsf3
   5              		.global	__divsf3
   6              		.global	__mulsf3
   7              		.global	__fixsfsi
   8              		.text
   9              		.align	2
  10              		.global	playTestSound
  11              		.code 16
  12              		.thumb_func
  13              		.type	playTestSound, %function
  14              	playTestSound:
  15 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  16 0002 1C4D     		ldr	r5, .L14
  17 0004 1C4F     		ldr	r7, .L14+4
  18              	.L2:
  19 0006 2878     		ldrb	r0, [r5]
  20 0008 8038     		sub	r0, r0, #128
  21 000a 4000     		lsl	r0, r0, #1
  22 000c FFF7FEFF 		bl	__floatsisf
  23 0010 0024     		mov	r4, #0
  24 0012 3C57     		ldrsb	r4, [r7, r4]
  25 0014 061C     		add	r6, r0, #0
  26 0016 201C     		mov	r0, r4
  27 0018 FFF7FEFF 		bl	__floatsisf
  28 001c 002C     		cmp	r4, #0
  29 001e 02DA     		bge	.L3
  30 0020 1649     		ldr	r1, .L14+8
  31 0022 FFF7FEFF 		bl	__addsf3
  32              	.L3:
  33 0026 1649     		ldr	r1, .L14+12
  34 0028 FFF7FEFF 		bl	__divsf3
  35 002c 011C     		add	r1, r0, #0
  36 002e 301C     		add	r0, r6, #0
  37 0030 FFF7FEFF 		bl	__mulsf3
  38 0034 FFF7FEFF 		bl	__fixsfsi
  39 0038 031C     		mov	r3, r0
  40 003a 7F33     		add	r3, r3, #127
  41 003c 02DA     		bge	.L4
  42 003e 7F20     		mov	r0, #127
  43 0040 4042     		neg	r0, r0
  44 0042 02E0     		b	.L5
  45              	.L4:
  46 0044 7F28     		cmp	r0, #127
  47 0046 00DD     		ble	.L5
  48 0048 7F20     		mov	r0, #127
  49              	.L5:
  50 004a 031C     		mov	r3, r0
  51 004c 8033     		add	r3, r3, #128
  52 004e 8022     		mov	r2, #128
  53 0050 5202     		lsl	r2, r2, #9
  54 0052 1B02     		lsl	r3, r3, #8
  55 0054 1343     		orr	r3, r3, r2
  56 0056 0B4A     		ldr	r2, .L14+16
  57 0058 1360     		str	r3, [r2]
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 2


  58 005a 0022     		mov	r2, #0
  59              	.L6:
  60 005c C046     		 nop
  61              		.code	16
  62 005e 0A4B     		ldr	r3, .L14+20
  63 0060 0132     		add	r2, r2, #1
  64 0062 9A42     		cmp	r2, r3
  65 0064 FAD1     		bne	.L6
  66 0066 094B     		ldr	r3, .L14+24
  67 0068 0135     		add	r5, r5, #1
  68 006a 9D42     		cmp	r5, r3
  69 006c CBD1     		bne	.L2
  70              		@ sp needed for prologue
  71 006e F0BC     		pop	{r4, r5, r6, r7}
  72 0070 01BC     		pop	{r0}
  73 0072 0047     		bx	r0
  74              	.L15:
  75              		.align	2
  76              	.L14:
  77 0074 01000000 		.word	startupSound+1
  78 0078 00000000 		.word	currentVolume
  79 007c 00008043 		.word	1132462080
  80 0080 00002041 		.word	1092616192
  81 0084 00C006E0 		.word	-536428544
  82 0088 52030000 		.word	850
  83 008c 91F80000 		.word	startupSound+63633
  84              		.size	playTestSound, .-playTestSound
  85              		.section	.rodata.str1.4,"aMS",%progbits,1
  86 0001 000000   		.align	2
  87              	.LC14:
  88 0004 4552523A 		.ascii	"ERR:file\000"
  88      66696C65 
  88      00
  89              		.text
  90              		.align	2
  91              		.global	testMMC
  92              		.code 16
  93              		.thumb_func
  94              		.type	testMMC, %function
  95              	testMMC:
  96 0090 F0B5     		push	{r4, r5, r6, r7, lr}
  97 0092 021C     		mov	r2, r0
  98 0094 2B49     		ldr	r1, .L30
  99 0096 2C48     		ldr	r0, .L30+4
 100 0098 7223     		mov	r3, #114
 101 009a FFF7FEFF 		bl	file_fopen
 102 009e 0006     		lsl	r0, r0, #24
 103 00a0 0028     		cmp	r0, #0
 104 00a2 49D1     		bne	.L17
 105 00a4 294B     		ldr	r3, .L30+8
 106 00a6 1F78     		ldrb	r7, [r3]
 107 00a8 0021     		mov	r1, #0
 108 00aa 06E0     		b	.L19
 109              	.L20:
 110 00ac 284B     		ldr	r3, .L30+12
 111 00ae 294D     		ldr	r5, .L30+16
 112 00b0 0022     		mov	r2, #0
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 3


 113 00b2 CA54     		strb	r2, [r1, r3]
 114 00b4 4B19     		add	r3, r1, r5
 115 00b6 1A70     		strb	r2, [r3]
 116 00b8 0131     		add	r1, r1, #1
 117              	.L19:
 118 00ba B942     		cmp	r1, r7
 119 00bc F6DB     		blt	.L20
 120 00be 254D     		ldr	r5, .L30+16
 121 00c0 7A1E     		sub	r2, r7, #1
 122 00c2 0023     		mov	r3, #0
 123 00c4 AB54     		strb	r3, [r5, r2]
 124 00c6 204C     		ldr	r4, .L30+4
 125 00c8 2149     		ldr	r1, .L30+12
 126 00ca 234D     		ldr	r5, .L30+20
 127 00cc 8B54     		strb	r3, [r1, r2]
 128 00ce 234E     		ldr	r6, .L30+24
 129 00d0 E16C     		ldr	r1, [r4, #76]
 130 00d2 2B78     		ldrb	r3, [r5]
 131 00d4 3160     		str	r1, [r6]
 132 00d6 C91A     		sub	r1, r1, r3
 133 00d8 214B     		ldr	r3, .L30+28
 134 00da 1B68     		ldr	r3, [r3]
 135 00dc 3A1C     		mov	r2, r7
 136 00de C918     		add	r1, r1, r3
 137 00e0 201C     		mov	r0, r4
 138 00e2 1B4B     		ldr	r3, .L30+12
 139 00e4 FFF7FEFF 		bl	file_fread
 140 00e8 2B78     		ldrb	r3, [r5]
 141 00ea 3168     		ldr	r1, [r6]
 142 00ec C91A     		sub	r1, r1, r3
 143 00ee 1D4B     		ldr	r3, .L30+32
 144 00f0 1B68     		ldr	r3, [r3]
 145 00f2 C918     		add	r1, r1, r3
 146 00f4 154B     		ldr	r3, .L30+8
 147 00f6 201C     		mov	r0, r4
 148 00f8 1A78     		ldrb	r2, [r3]
 149 00fa 164B     		ldr	r3, .L30+16
 150 00fc FFF7FEFF 		bl	file_fread
 151 0100 194B     		ldr	r3, .L30+36
 152 0102 1349     		ldr	r1, .L30+12
 153 0104 134A     		ldr	r2, .L30+16
 154 0106 1960     		str	r1, [r3]
 155 0108 5A60     		str	r2, [r3, #4]
 156 010a 00E0     		b	.L22
 157              	.L23:
 158 010c 0131     		add	r1, r1, #1
 159              	.L22:
 160 010e 0B78     		ldrb	r3, [r1]
 161 0110 002B     		cmp	r3, #0
 162 0112 FBD1     		bne	.L23
 163 0114 0E4B     		ldr	r3, .L30+12
 164 0116 144A     		ldr	r2, .L30+36
 165 0118 CB1A     		sub	r3, r1, r3
 166 011a 0E49     		ldr	r1, .L30+16
 167 011c 5373     		strb	r3, [r2, #13]
 168 011e 00E0     		b	.L25
 169              	.L26:
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 4


 170 0120 0131     		add	r1, r1, #1
 171              	.L25:
 172 0122 0B78     		ldrb	r3, [r1]
 173 0124 002B     		cmp	r3, #0
 174 0126 FBD1     		bne	.L26
 175 0128 0A4B     		ldr	r3, .L30+16
 176 012a 0F4A     		ldr	r2, .L30+36
 177 012c CB1A     		sub	r3, r1, r3
 178 012e 9373     		strb	r3, [r2, #14]
 179 0130 0548     		ldr	r0, .L30+4
 180 0132 FFF7FEFF 		bl	file_fclose
 181 0136 02E0     		b	.L29
 182              	.L17:
 183 0138 0C4A     		ldr	r2, .L30+40
 184 013a 0B4B     		ldr	r3, .L30+36
 185 013c 1A60     		str	r2, [r3]
 186              	.L29:
 187              		@ sp needed for prologue
 188 013e F0BC     		pop	{r4, r5, r6, r7}
 189 0140 01BC     		pop	{r0}
 190 0142 0047     		bx	r0
 191              	.L31:
 192              		.align	2
 193              	.L30:
 194 0144 84020000 		.word	efs+644
 195 0148 00000000 		.word	file
 196 014c 00000000 		.word	readSize
 197 0150 00000000 		.word	myName
 198 0154 00000000 		.word	myAuthor
 199 0158 00000000 		.word	id3TagSize
 200 015c 00000000 		.word	fileSize
 201 0160 00000000 		.word	titleOffset
 202 0164 00000000 		.word	authorOffset
 203 0168 00000000 		.word	currentSongInfo
 204 016c 04000000 		.word	.LC14
 205              		.size	testMMC, .-testMMC
 206              		.section	.rodata.str1.4
 207 000d 000000   		.align	2
 208              	.LC17:
 209 0010 5C00     		.ascii	"\\\000"
 210 0012 0000     		.align	2
 211              	.LC19:
 212 0014 4552523A 		.ascii	"ERR:filesys-1\000"
 212      66696C65 
 212      7379732D 
 212      3100
 213 0022 0000     		.align	2
 214              	.LC21:
 215 0024 4552523A 		.ascii	"ERR:filesys-2\000"
 215      66696C65 
 215      7379732D 
 215      3200
 216 0032 0000     		.align	2
 217              	.LC23:
 218 0034 4552523A 		.ascii	"ERR:filesys-3\000"
 218      66696C65 
 218      7379732D 
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 5


 218      3300
 219 0042 0000     		.align	2
 220              	.LC25:
 221 0044 4552523A 		.ascii	"ERR:filesys-4\000"
 221      66696C65 
 221      7379732D 
 221      3400
 222 0052 0000     		.align	2
 223              	.LC27:
 224 0054 4552523A 		.ascii	"ERR:filesys-10\000"
 224      66696C65 
 224      7379732D 
 224      313000
 225 0063 00       		.align	2
 226              	.LC29:
 227 0064 4552523A 		.ascii	"ERR:filesys-11\000"
 227      66696C65 
 227      7379732D 
 227      313100
 228 0073 00       		.align	2
 229              	.LC31:
 230 0074 4552523A 		.ascii	"ERR:filesys-12\000"
 230      66696C65 
 230      7379732D 
 230      313200
 231 0083 00       		.align	2
 232              	.LC33:
 233 0084 4552523A 		.ascii	"ERR:filesys-13\000"
 233      66696C65 
 233      7379732D 
 233      313300
 234 0093 00       		.align	2
 235              	.LC35:
 236 0094 4552523A 		.ascii	"ERR:filesys-14\000"
 236      66696C65 
 236      7379732D 
 236      313400
 237 00a3 00       		.align	2
 238              	.LC37:
 239 00a4 4552523A 		.ascii	"ERR:filesys-15\000"
 239      66696C65 
 239      7379732D 
 239      313500
 240 00b3 00       		.align	2
 241              	.LC39:
 242 00b4 4552523A 		.ascii	"ERR:filesys-16\000"
 242      66696C65 
 242      7379732D 
 242      313600
 243 00c3 00       		.align	2
 244              	.LC41:
 245 00c4 4552523A 		.ascii	"ERR:filesys-17\000"
 245      66696C65 
 245      7379732D 
 245      313700
 246 00d3 00       		.align	2
 247              	.LC45:
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 6


 248 00d4 2F00     		.ascii	"/\000"
 249 00d6 0000     		.align	2
 250              	.LC47:
 251 00d8 4552523A 		.ascii	"ERR:dir\000"
 251      64697200 
 252              		.align	2
 253              	.LC50:
 254 00e0 4F4B00   		.ascii	"OK\000"
 255              		.text
 256              		.align	2
 257              		.global	initMMC
 258              		.code 16
 259              		.thumb_func
 260              		.type	initMMC, %function
 261              	initMMC:
 262 0170 00B5     		push	{lr}
 263 0172 2548     		ldr	r0, .L61
 264 0174 2549     		ldr	r1, .L61+4
 265 0176 FFF7FEFF 		bl	efs_init
 266 017a 431C     		add	r3, r0, #1
 267 017c 01D1     		bne	.L33
 268 017e 2448     		ldr	r0, .L61+8
 269 0180 40E0     		b	.L35
 270              	.L33:
 271 0182 831C     		add	r3, r0, #2
 272 0184 01D1     		bne	.L36
 273 0186 2348     		ldr	r0, .L61+12
 274 0188 3CE0     		b	.L35
 275              	.L36:
 276 018a C31C     		add	r3, r0, #3
 277 018c 01D1     		bne	.L38
 278 018e 2248     		ldr	r0, .L61+16
 279 0190 38E0     		b	.L35
 280              	.L38:
 281 0192 031D     		add	r3, r0, #4
 282 0194 01D1     		bne	.L40
 283 0196 2148     		ldr	r0, .L61+20
 284 0198 34E0     		b	.L35
 285              	.L40:
 286 019a 031C     		mov	r3, r0
 287 019c 0A33     		add	r3, r3, #10
 288 019e 01D1     		bne	.L42
 289 01a0 1F48     		ldr	r0, .L61+24
 290 01a2 2FE0     		b	.L35
 291              	.L42:
 292 01a4 031C     		mov	r3, r0
 293 01a6 0B33     		add	r3, r3, #11
 294 01a8 01D1     		bne	.L44
 295 01aa 1E48     		ldr	r0, .L61+28
 296 01ac 2AE0     		b	.L35
 297              	.L44:
 298 01ae 031C     		mov	r3, r0
 299 01b0 0C33     		add	r3, r3, #12
 300 01b2 01D1     		bne	.L46
 301 01b4 1C48     		ldr	r0, .L61+32
 302 01b6 25E0     		b	.L35
 303              	.L46:
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 7


 304 01b8 031C     		mov	r3, r0
 305 01ba 0D33     		add	r3, r3, #13
 306 01bc 01D1     		bne	.L48
 307 01be 1B48     		ldr	r0, .L61+36
 308 01c0 20E0     		b	.L35
 309              	.L48:
 310 01c2 031C     		mov	r3, r0
 311 01c4 0E33     		add	r3, r3, #14
 312 01c6 01D1     		bne	.L50
 313 01c8 1948     		ldr	r0, .L61+40
 314 01ca 1BE0     		b	.L35
 315              	.L50:
 316 01cc 031C     		mov	r3, r0
 317 01ce 0F33     		add	r3, r3, #15
 318 01d0 01D1     		bne	.L52
 319 01d2 1848     		ldr	r0, .L61+44
 320 01d4 16E0     		b	.L35
 321              	.L52:
 322 01d6 031C     		mov	r3, r0
 323 01d8 1033     		add	r3, r3, #16
 324 01da 01D1     		bne	.L54
 325 01dc 1648     		ldr	r0, .L61+48
 326 01de 11E0     		b	.L35
 327              	.L54:
 328 01e0 1130     		add	r0, r0, #17
 329 01e2 01D1     		bne	.L56
 330 01e4 1548     		ldr	r0, .L61+52
 331 01e6 0DE0     		b	.L35
 332              	.L56:
 333 01e8 1548     		ldr	r0, .L61+56
 334 01ea 1649     		ldr	r1, .L61+60
 335 01ec 164A     		ldr	r2, .L61+64
 336 01ee FFF7FEFF 		bl	ls_openDir
 337 01f2 0006     		lsl	r0, r0, #24
 338 01f4 0028     		cmp	r0, #0
 339 01f6 01D0     		beq	.L58
 340 01f8 1448     		ldr	r0, .L61+68
 341 01fa 03E0     		b	.L35
 342              	.L58:
 343 01fc 144A     		ldr	r2, .L61+72
 344 01fe 0123     		mov	r3, #1
 345 0200 1370     		strb	r3, [r2]
 346 0202 1448     		ldr	r0, .L61+76
 347              	.L35:
 348              		@ sp needed for prologue
 349 0204 02BC     		pop	{r1}
 350 0206 0847     		bx	r1
 351              	.L62:
 352              		.align	2
 353              	.L61:
 354 0208 00000000 		.word	efs
 355 020c 10000000 		.word	.LC17
 356 0210 14000000 		.word	.LC19
 357 0214 24000000 		.word	.LC21
 358 0218 34000000 		.word	.LC23
 359 021c 44000000 		.word	.LC25
 360 0220 54000000 		.word	.LC27
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 8


 361 0224 64000000 		.word	.LC29
 362 0228 74000000 		.word	.LC31
 363 022c 84000000 		.word	.LC33
 364 0230 94000000 		.word	.LC35
 365 0234 A4000000 		.word	.LC37
 366 0238 B4000000 		.word	.LC39
 367 023c C4000000 		.word	.LC41
 368 0240 00000000 		.word	list
 369 0244 84020000 		.word	efs+644
 370 0248 D4000000 		.word	.LC45
 371 024c D8000000 		.word	.LC47
 372 0250 00000000 		.word	mmcInitialized
 373 0254 E0000000 		.word	.LC50
 374              		.size	initMMC, .-initMMC
 375              		.align	2
 376              		.global	format_file_name
 377              		.code 16
 378              		.thumb_func
 379              		.type	format_file_name, %function
 380              	format_file_name:
 381 0258 70B5     		push	{r4, r5, r6, lr}
 382 025a 061C     		mov	r6, r0
 383 025c 0D1C     		mov	r5, r1
 384 025e CA1D     		add	r2, r1, #7
 385 0260 0724     		mov	r4, #7
 386 0262 05E0     		b	.L64
 387              	.L65:
 388 0264 631E     		sub	r3, r4, #1
 389 0266 1B06     		lsl	r3, r3, #24
 390 0268 1C0E     		lsr	r4, r3, #24
 391 026a 013A     		sub	r2, r2, #1
 392 026c 002C     		cmp	r4, #0
 393 026e 02D0     		beq	.L66
 394              	.L64:
 395 0270 1378     		ldrb	r3, [r2]
 396 0272 202B     		cmp	r3, #32
 397 0274 F6D0     		beq	.L65
 398              	.L66:
 399 0276 621C     		add	r2, r4, #1
 400 0278 301C     		mov	r0, r6
 401 027a 291C     		mov	r1, r5
 402 027c FFF7FEFF 		bl	strncpy
 403 0280 3419     		add	r4, r6, r4
 404 0282 2E23     		mov	r3, #46
 405 0284 6370     		strb	r3, [r4, #1]
 406 0286 AA7A     		ldrb	r2, [r5, #10]
 407 0288 202A     		cmp	r2, #32
 408 028a 01D0     		beq	.L67
 409 028c 0222     		mov	r2, #2
 410 028e 03E0     		b	.L69
 411              	.L67:
 412 0290 6B7A     		ldrb	r3, [r5, #9]
 413 0292 5340     		eor	r3, r3, r2
 414 0294 5B42     		neg	r3, r3
 415 0296 DA0F     		lsr	r2, r3, #31
 416              	.L69:
 417 0298 291C     		mov	r1, r5
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 9


 418 029a A01C     		add	r0, r4, #2
 419 029c 0831     		add	r1, r1, #8
 420 029e 0132     		add	r2, r2, #1
 421 02a0 FFF7FEFF 		bl	strncpy
 422 02a4 0023     		mov	r3, #0
 423 02a6 6371     		strb	r3, [r4, #5]
 424              		@ sp needed for prologue
 425 02a8 70BC     		pop	{r4, r5, r6}
 426 02aa 01BC     		pop	{r0}
 427 02ac 0047     		bx	r0
 428              		.size	format_file_name, .-format_file_name
 429 02ae 0000     		.align	2
 430              		.global	getFileNames
 431              		.code 16
 432              		.thumb_func
 433              		.type	getFileNames, %function
 434              	getFileNames:
 435 02b0 70B5     		push	{r4, r5, r6, lr}
 436 02b2 0026     		mov	r6, #0
 437 02b4 16E0     		b	.L88
 438              	.L75:
 439 02b6 104A     		ldr	r2, .L89
 440 02b8 2B69     		ldr	r3, [r5, #16]
 441 02ba 1340     		and	r3, r3, r2
 442 02bc 0F4A     		ldr	r2, .L89+4
 443 02be 9342     		cmp	r3, r2
 444 02c0 10D1     		bne	.L88
 445 02c2 0F4C     		ldr	r4, .L89+8
 446 02c4 291C     		mov	r1, r5
 447 02c6 0831     		add	r1, r1, #8
 448 02c8 201C     		mov	r0, r4
 449 02ca FFF7FEFF 		bl	format_file_name
 450 02ce 0D4B     		ldr	r3, .L89+12
 451 02d0 211C     		mov	r1, r4
 452 02d2 F218     		add	r2, r6, r3
 453 02d4 0D31     		add	r1, r1, #13
 454              	.L77:
 455 02d6 2378     		ldrb	r3, [r4]
 456 02d8 0134     		add	r4, r4, #1
 457 02da 1370     		strb	r3, [r2]
 458 02dc 0132     		add	r2, r2, #1
 459 02de 8C42     		cmp	r4, r1
 460 02e0 F9D1     		bne	.L77
 461 02e2 0D36     		add	r6, r6, #13
 462              	.L88:
 463 02e4 084D     		ldr	r5, .L89+16
 464 02e6 281C     		mov	r0, r5
 465 02e8 FFF7FEFF 		bl	ls_getNext
 466 02ec 0006     		lsl	r0, r0, #24
 467 02ee 0028     		cmp	r0, #0
 468 02f0 E1D0     		beq	.L75
 469              		@ sp needed for prologue
 470 02f2 70BC     		pop	{r4, r5, r6}
 471 02f4 01BC     		pop	{r0}
 472 02f6 0047     		bx	r0
 473              	.L90:
 474              		.align	2
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 10


 475              	.L89:
 476 02f8 FFFFFF00 		.word	16777215
 477 02fc 4D503300 		.word	3362893
 478 0300 00000000 		.word	file_name
 479 0304 00000000 		.word	files
 480 0308 00000000 		.word	list
 481              		.size	getFileNames, .-getFileNames
 482              		.section	.rodata.str1.4
 483 00e3 00       		.subsection	-1
 484              		.align	2
 485              	.LC61:
 486 0000 00       		.ascii	"\000"
 487              		.global	__modsi3
 488              		.text
 489              		.align	2
 490              		.global	MMCproc
 491              		.code 16
 492              		.thumb_func
 493              		.type	MMCproc, %function
 494              	MMCproc:
 495 030c 70B5     		push	{r4, r5, r6, lr}
 496 030e FFF7FEFF 		bl	initMMC
 497 0312 464A     		ldr	r2, .L119
 498 0314 0121     		mov	r1, #1
 499 0316 1170     		strb	r1, [r2]
 500 0318 0378     		ldrb	r3, [r0]
 501 031a 4F2B     		cmp	r3, #79
 502 031c 02D1     		bne	.L92
 503 031e 4378     		ldrb	r3, [r0, #1]
 504 0320 4B2B     		cmp	r3, #75
 505 0322 05D0     		beq	.L94
 506              	.L92:
 507 0324 424B     		ldr	r3, .L119+4
 508 0326 1960     		str	r1, [r3]
 509 0328 424B     		ldr	r3, .L119+8
 510 032a 1860     		str	r0, [r3]
 511 032c 0023     		mov	r3, #0
 512 032e 1370     		strb	r3, [r2]
 513              	.L94:
 514 0330 414C     		ldr	r4, .L119+12
 515 0332 4249     		ldr	r1, .L119+16
 516 0334 424B     		ldr	r3, .L119+20
 517 0336 6218     		add	r2, r4, r1
 518              	.L95:
 519 0338 2370     		strb	r3, [r4]
 520 033a 0D34     		add	r4, r4, #13
 521 033c 9442     		cmp	r4, r2
 522 033e FBD1     		bne	.L95
 523 0340 FFF7FEFF 		bl	getFileNames
 524 0344 3F4B     		ldr	r3, .L119+24
 525 0346 1B7B     		ldrb	r3, [r3, #12]
 526 0348 5800     		lsl	r0, r3, #1
 527 034a C018     		add	r0, r0, r3
 528 034c 3E4A     		ldr	r2, .L119+28
 529 034e 8000     		lsl	r0, r0, #2
 530 0350 C018     		add	r0, r0, r3
 531 0352 A318     		add	r3, r4, r2
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 11


 532 0354 C018     		add	r0, r0, r3
 533 0356 FFF7FEFF 		bl	testMMC
 534              	.L97:
 535 035a 3C4D     		ldr	r5, .L119+32
 536 035c 2B78     		ldrb	r3, [r5]
 537 035e 012B     		cmp	r3, #1
 538 0360 01D1     		bne	.L98
 539 0362 0023     		mov	r3, #0
 540 0364 2B70     		strb	r3, [r5]
 541              	.L98:
 542 0366 3A4E     		ldr	r6, .L119+36
 543 0368 3368     		ldr	r3, [r6]
 544 036a 5903     		lsl	r1, r3, #13
 545 036c 16D4     		bmi	.L100
 546 036e 3948     		ldr	r0, .L119+40
 547 0370 FFF7FEFF 		bl	file_fclose
 548 0374 334C     		ldr	r4, .L119+24
 549 0376 207B     		ldrb	r0, [r4, #12]
 550 0378 0321     		mov	r1, #3
 551 037a 0130     		add	r0, r0, #1
 552 037c FFF7FEFF 		bl	__modsi3
 553 0380 0306     		lsl	r3, r0, #24
 554 0382 1B0E     		lsr	r3, r3, #24
 555 0384 5800     		lsl	r0, r3, #1
 556 0386 C018     		add	r0, r0, r3
 557 0388 8000     		lsl	r0, r0, #2
 558 038a 2373     		strb	r3, [r4, #12]
 559 038c C018     		add	r0, r0, r3
 560 038e 2A4B     		ldr	r3, .L119+12
 561 0390 C018     		add	r0, r0, r3
 562 0392 FFF7FEFF 		bl	testMMC
 563 0396 304A     		ldr	r2, .L119+44
 564 0398 0123     		mov	r3, #1
 565 039a 1370     		strb	r3, [r2]
 566              	.L100:
 567 039c 3368     		ldr	r3, [r6]
 568 039e 1A03     		lsl	r2, r3, #12
 569 03a0 15D4     		bmi	.L102
 570 03a2 2C48     		ldr	r0, .L119+40
 571 03a4 FFF7FEFF 		bl	file_fclose
 572 03a8 264C     		ldr	r4, .L119+24
 573 03aa 207B     		ldrb	r0, [r4, #12]
 574 03ac 0321     		mov	r1, #3
 575 03ae 0138     		sub	r0, r0, #1
 576 03b0 FFF7FEFF 		bl	__modsi3
 577 03b4 0306     		lsl	r3, r0, #24
 578 03b6 1B0E     		lsr	r3, r3, #24
 579 03b8 5800     		lsl	r0, r3, #1
 580 03ba C018     		add	r0, r0, r3
 581 03bc 8000     		lsl	r0, r0, #2
 582 03be 2373     		strb	r3, [r4, #12]
 583 03c0 C018     		add	r0, r0, r3
 584 03c2 1D4B     		ldr	r3, .L119+12
 585 03c4 C018     		add	r0, r0, r3
 586 03c6 FFF7FEFF 		bl	testMMC
 587 03ca 0123     		mov	r3, #1
 588 03cc 2B70     		strb	r3, [r5]
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 12


 589              	.L102:
 590 03ce 3368     		ldr	r3, [r6]
 591 03d0 9903     		lsl	r1, r3, #14
 592 03d2 08D4     		bmi	.L104
 593 03d4 214A     		ldr	r2, .L119+48
 594 03d6 0123     		mov	r3, #1
 595 03d8 1370     		strb	r3, [r2]
 596 03da 214A     		ldr	r2, .L119+52
 597 03dc 1378     		ldrb	r3, [r2]
 598 03de 082B     		cmp	r3, #8
 599 03e0 01D8     		bhi	.L104
 600 03e2 0133     		add	r3, r3, #1
 601 03e4 1370     		strb	r3, [r2]
 602              	.L104:
 603 03e6 1A4B     		ldr	r3, .L119+36
 604 03e8 1B68     		ldr	r3, [r3]
 605 03ea DA02     		lsl	r2, r3, #11
 606 03ec 08D4     		bmi	.L107
 607 03ee 1D4A     		ldr	r2, .L119+56
 608 03f0 0123     		mov	r3, #1
 609 03f2 1370     		strb	r3, [r2]
 610 03f4 1A4A     		ldr	r2, .L119+52
 611 03f6 1378     		ldrb	r3, [r2]
 612 03f8 002B     		cmp	r3, #0
 613 03fa 01D0     		beq	.L107
 614 03fc 013B     		sub	r3, r3, #1
 615 03fe 1370     		strb	r3, [r2]
 616              	.L107:
 617 0400 134B     		ldr	r3, .L119+36
 618 0402 1B68     		ldr	r3, [r3]
 619 0404 5904     		lsl	r1, r3, #17
 620 0406 01D4     		bmi	.L110
 621 0408 FFF7FEFF 		bl	playTestSound
 622              	.L110:
 623 040c 164A     		ldr	r2, .L119+60
 624 040e 1378     		ldrb	r3, [r2]
 625 0410 012B     		cmp	r3, #1
 626 0412 01D1     		bne	.L112
 627 0414 0023     		mov	r3, #0
 628 0416 1370     		strb	r3, [r2]
 629              	.L112:
 630 0418 144A     		ldr	r2, .L119+64
 631 041a 1378     		ldrb	r3, [r2]
 632 041c 012B     		cmp	r3, #1
 633 041e 01D1     		bne	.L114
 634 0420 0023     		mov	r3, #0
 635 0422 1370     		strb	r3, [r2]
 636              	.L114:
 637 0424 1920     		mov	r0, #25
 638 0426 FFF7FEFF 		bl	osSleep
 639 042a 96E7     		b	.L97
 640              	.L120:
 641              		.align	2
 642              	.L119:
 643 042c 00000000 		.word	mmcInitialized
 644 0430 00000000 		.word	isError
 645 0434 00000000 		.word	error
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 13


 646 0438 00000000 		.word	files
 647 043c 07050000 		.word	1287
 648 0440 00000000 		.word	.LC61
 649 0444 00000000 		.word	currentSongInfo
 650 0448 F9FAFFFF 		.word	-1287
 651 044c 00000000 		.word	changeLeft
 652 0450 008002E0 		.word	-536707072
 653 0454 00000000 		.word	file
 654 0458 00000000 		.word	changeRight
 655 045c 00000000 		.word	volumeUp
 656 0460 00000000 		.word	currentVolume
 657 0464 00000000 		.word	volumeDown
 658 0468 00000000 		.word	rewindForward
 659 046c 00000000 		.word	rewindBackward
 660              		.size	MMCproc, .-MMCproc
 661              		.global	id3TagSize
 662              		.data
 663              		.type	id3TagSize, %object
 664              		.size	id3TagSize, 1
 665              	id3TagSize:
 666 0000 80       		.byte	-128
 667              		.global	readSize
 668              		.type	readSize, %object
 669              		.size	readSize, 1
 670              	readSize:
 671 0001 1E       		.byte	30
 672              		.global	titleOffset
 673 0002 0000     		.align	2
 674              		.type	titleOffset, %object
 675              		.size	titleOffset, 4
 676              	titleOffset:
 677 0004 03000000 		.word	3
 678              		.global	authorOffset
 679              		.align	2
 680              		.type	authorOffset, %object
 681              		.size	authorOffset, 4
 682              	authorOffset:
 683 0008 21000000 		.word	33
 684              		.comm	currentSongInfo,16,4
 685              		.comm	mmcInitialized,1,1
 686              		.comm	changeLeft,1,1
 687              		.comm	changeRight,1,1
 688              		.comm	rewindForward,1,1
 689              		.comm	rewindBackward,1,1
 690              		.comm	volumeUp,1,1
 691              		.comm	volumeDown,1,1
 692              		.comm	isError,4,4
 693              		.comm	error,4,4
 694              		.comm	fileSize,4,4
 695              		.comm	myName,30,1
 696              		.comm	myAuthor,30,1
 697              		.comm	efs,708,4
 698              		.comm	file,80,4
 699              		.comm	list,52,4
 700              		.comm	file_name,13,1
 701              		.comm	size,4,4
 702              		.comm	files,3328,1
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 14


 703              		.ident	"GCC: (GNU) 4.1.1"
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 15


DEFINED SYMBOLS
                            *ABS*:00000000 testMMC.c
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:1      .text:00000000 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:14     .text:00000000 playTestSound
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:77     .text:00000074 $d
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:95     .text:00000090 testMMC
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:92     .text:00000090 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:194    .text:00000144 $d
                            *COM*:000002c4 efs
                            *COM*:00000050 file
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:670    .data:00000001 readSize
                            *COM*:0000001e myName
                            *COM*:0000001e myAuthor
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:665    .data:00000000 id3TagSize
                            *COM*:00000004 fileSize
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:676    .data:00000004 titleOffset
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:682    .data:00000008 authorOffset
                            *COM*:00000010 currentSongInfo
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:261    .text:00000170 initMMC
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:258    .text:00000170 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:354    .text:00000208 $d
                            *COM*:00000034 list
                            *COM*:00000001 mmcInitialized
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:380    .text:00000258 format_file_name
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:377    .text:00000258 $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:434    .text:000002b0 getFileNames
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:476    .text:000002f8 $d
                            *COM*:0000000d file_name
                            *COM*:00000d00 files
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:494    .text:0000030c MMCproc
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:491    .text:0000030c $t
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:643    .text:0000042c $d
                            *COM*:00000004 isError
                            *COM*:00000004 error
                            *COM*:00000001 changeLeft
                            *COM*:00000001 changeRight
                            *COM*:00000001 volumeUp
                            *COM*:00000001 volumeDown
                            *COM*:00000001 rewindForward
                            *COM*:00000001 rewindBackward
/cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s:677    .data:00000004 $d
                            *COM*:00000004 size

UNDEFINED SYMBOLS
__floatsisf
__addsf3
__divsf3
__mulsf3
__fixsfsi
startupSound
currentVolume
file_fopen
file_fread
file_fclose
efs_init
ls_openDir
strncpy
ARM GAS  /cygdrive/c/DOCUME~1/mkwapisz/LOCALS~1/Temp/ccE815Xs.s 			page 16


ls_getNext
__modsi3
osSleep
